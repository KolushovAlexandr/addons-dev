<?xml version="1.0" encoding="utf-8"?>
<!--# Copyright 2018 Kolushov Alexandr <https://it-projects.info/team/KolushovAlexandr>
# License LGPL-3.0 or later (http://www.gnu.org/licenses/lgpl.html).-->

<odoo>

    <template id="address" name="my_checkout" inherit_id="website_sale.address">

        <xpath expr="//input[@name='phone']/.." position="before">
            <t t-if="mode[1] != 'billing'">
                <div t-attf-class="form-group #{error.get('email') and 'has-error' or ''} col-md-6" id="div_email">
                    <label class="control-label" for="email">Email</label>
                    <input type="email" name="email" class="form-control" t-att-value="'email' in checkout and checkout['email']" />
                </div>
            </t>
        </xpath>

        <xpath expr="//input[@name='phone']/.." position="after">
            <div class="clearfix" />

            <div t-attf-class="form-group #{error.get('gender') and 'has-error' or ''} col-md-12 div_gender">
                <label class="control-label" for="gender">Gender</label>
                <div class="input-group">
                    <label class="radio-inline">
                      <input type="radio" name="gender" value="male"
                             t-att-checked="gender == 'male'"/>
                        Male
                    </label>
                    <label class="radio-inline">
                      <input type="radio" name="gender" value="female"
                             t-att-checked="gender == 'female'"/>
                        Female
                    </label>
                </div>
            </div>

            <div class="clearfix" />

            <div t-attf-class="form-group #{error.get('identification_id') and 'has-error' or ''} col-md-12 div_identification">
                <label class="control-label" for="gender">Identification</label>
                <input type="file" class="form-control o_website_form_input"
                       name="identification_id" t-att-value="identification_id and identification_id['website_url']"/>
            </div>
        </xpath>

        <xpath expr="(//input[@name='street'])/.." position="replace"></xpath>
        <xpath expr="(//input[@name='zip'])/.." position="replace"></xpath>
        <xpath expr="(//input[@name='city'])/.." position="replace"></xpath>
        <xpath expr="(//input[@name='zip'])/.." position="replace"></xpath>
        <xpath expr="(//input[@name='company_name'])/.." position="replace"></xpath>

        <xpath expr="(//select[@name='state_id'])/.." position="after">

            <div class="clearfix" />
            <t t-set='zip_city' t-value='country and [x for x in country.get_address_fields() if x in ["zip", "city"]] or ["city", "zip"]'/>

            <t t-if="'zip' in zip_city and zip_city.index('zip') &gt; zip_city.index('city')">
                <div t-attf-class="form-group #{error.get('zip') and 'has-error' or ''} col-sm-4 div_zip" ship="1">
                    <label class="control-label label-optional" for="zip">Zip Code</label>
                    <input type="text" name="zip" class="form-control" t-att-value="'zip' in checkout and checkout['zip']" />
                </div>
            </t>
            <t t-if="'zip' in zip_city and zip_city.index('zip') &lt; zip_city.index('city')">
                <div t-attf-class="form-group #{error.get('zip') and 'has-error' or ''} col-sm-4 div_zip" ship="1">
                    <label class="control-label label-optional" for="zip">Zip Code</label>
                    <input type="text" name="zip" class="form-control" t-att-value="'zip' in checkout and checkout['zip']" />
                </div>
            </t>

            <div t-attf-class="form-group #{error.get('city') and 'has-error' or ''} col-sm-8 div_city" ship="1">
                <label class="control-label" for="city">City</label>
                <input type="text" name="city" class="form-control" t-att-value="'city' in checkout and checkout['city']" />
            </div>
            <div class="clearfix" />
            <div t-attf-class="form-group #{error.get('street') and 'has-error' or ''} col-md-12 div_street" ship="1">
                <label class="control-label" for="street">Street <span class="hidden-xs"> and Number</span></label>
                <input type="text" name="street" class="form-control" t-att-value="'street' in checkout and checkout['street']" />
            </div>
        </xpath>

    </template>

</odoo>

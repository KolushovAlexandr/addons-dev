<?xml version="1.0" encoding="utf-8"?>

<templates>

    <t t-name="payment_window">
        <div class="attendee_input">
            <label class="mt16" for="email">Email</label>
            <input class="attendee_creation email_check" type="text" name="email" placeholder="Email"/>
        </div>

        <br/>
        <div>
            <div class="col-md-4 col-xs-4"/>
            <!--<div class="col-md-4 col-xs-4 create_client btn btn-primary"> Create Attendee </div>-->
            <div class="col-md-4 col-xs-4">
                <div class="check_partner_email btn btn-primary"> Check Email </div>
            </div>
            <div class="col-md-4 col-xs-4">
                <div class="check_partner_email received_message"/>
            </div>
        </div>

        <div id="new_attendee_data" style="display: none;">
            <t t-foreach="attendee_fields" t-as="field">
                <t t-if="field.name != 'email'">
                    <div class="attendee_input mt16">
                        <t t-if="field.type == 'date'">
                            <label t-attf-for="#{field.name}"><t t-esc="field.description"/></label>
                            <input class="attendee_creation" type="date" t-attf-placeholder="#{field.description}" t-attf-fdata="#{field.name}" t-attf-name="#{field.name}" t-attf-ftype="#{field.type}"/>
                        </t>

                        <t t-if="field.type == 'many2one'">
                            <label t-attf-for="#{field.name}"><t t-esc="field.description"/></label>
                            <select class="attendee_creation" type="text" t-attf-placeholder="#{field.description}" t-attf-name="#{field.name}"  t-attf-fdata="#{field.name}" t-attf-ftype="#{field.type}">
                                <t t-foreach="field.data" t-as="d">
                                    <option t-attf-value="#{d.id}">
                                        <t t-esc="d.name"/>
                                    </option>
                                </t>
                            </select>
                        </t>

                        <t t-if="field.type == 'char'">
                            <label t-attf-for="#{field.name}"><t t-esc="field.description"/></label>
                            <input class="attendee_creation" type="text" t-attf-name="#{field.name}"  t-attf-placeholder="#{field.description}" t-attf-fdata="#{field.name}" t-attf-ftype="#{field.type}"/>
                        </t>
                    </div>
                </t>
            </t>

            <div class="attendee_input mt16">
                <label for="event_ticket_id">Event Ticket</label>
                <select class="attendee_creation event_ticket" type="text" name="event_ticket_id" t-attf-placeholder="Select a Ticket" fdata="event_ticket_id" ftype="char">
                    <t t-foreach="bracelets" t-as="b">
                        <option t-attf-value="#{b.id}">
                            <t t-esc="b.ticket_name"/>
                        </option>
                    </t>
                </select>
            </div>


            <br/>
            <div class="col-md-4 col-xs-4"/>
            <!--<div class="col-md-4 col-xs-4 create_client btn btn-primary"> Create Attendee </div>-->
            <div class="col-md-4 col-xs-4 create_client  btn btn-primary" style="display: none"> Create Attendee </div>
            <div class="col-md-4 col-xs-4"/>
        </div>
    </t>

    <t t-name="event_barcode_template" t-extend="event_barcode_template">
        <t t-jquery=".o_event_barcode_detail.bracelets_info" t-operation="before">

            <div class="o_event_barcode_detail payment_window text-center">
                <div class="col-md-12 col-xs-12 payment_title text-center">
                    <h2 class="o_client_list_title">New Attendee</h2>
                </div>
                <div class="payment_container" style="display: none;">
                    <t t-set="attendee_fields" t-value="widget.data.attendee_fields"/>
                    <t t-set="bracelets" t-value="widget.data.bracelets"/>
                    <t t-call="payment_window"/>
                </div>
            </div>

        </t>

    </t>

</templates>

<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- EVENT.REGISTRATION VIEWS -->
    <record model="ir.ui.view" id="view_event_registration_form_inherited">
        <field name="name">event.registration.form</field>
        <field name="model">event.registration</field>
        <field name="inherit_id" ref="event.view_event_registration_form"/>
        <field name="arch" type="xml">
            <xpath expr="//group[@name='event']" position="after">
                <group string="Attendee Information" name="event">
                    <field name="rfid"/>
                    <field name="sign_attachment_id"/>
                    <field name="signed_terms"/>
                    <field name="requested_signature_ids"/>
                    <field name="event_request_id"/>
                </group>
            </xpath>

            <xpath expr="//header/button[@name='do_draft']" position="after">
                <button name="send_term_request" string="Send Term Request" states="draft,open" type="object" class="oe_highlight"/>
            </xpath>
        </field>
    </record>

    <!-- EVENT.EVENT VIEWS -->
    <record model="ir.ui.view" id="view_event_form_inherited">
        <field name="name">event.event.form</field>
        <field name="model">event.event</field>
        <field name="inherit_id" ref="event.view_event_form"/>
        <field name="arch" type="xml">
            <xpath expr="//notebook" position="inside">
                <page string="Terms and Conditions">
                    <group>
                        <field name="signature_template_id" />
                        <field name="terms_to_sign" widget="ace" options="{'mode': 'xml'}"/>
                    </group>
                </page>
            </xpath>
        </field>
    </record>


    <!-- BRACELET.TYPE VIEWS -->
    <record model="ir.ui.view" id="view_bracelet_type_form">
        <field name="name">bracelet.type.form</field>
        <field name="model">bracelet.type</field>
        <field name="arch" type="xml">
            <form string="Bracelet Type">
                <sheet>
                    <label for="name"/>
                    <div>
                        <field name="name" class="oe_inline"/>
                    </div>
                    <label for="event_ticket_id"/>
                    <div>
                        <field name="event_ticket_id" class="oe_inline"/>
                    </div>
                    <label for="bracelet_qty"/>
                    <div>
                        <field name="bracelet_qty" class="oe_inline"/>
                    </div>
                </sheet>
            </form>
        </field>
    </record>

    <record model="ir.ui.view" id="view_bracelet_type_tree">
        <field name="name">bracelet.type.tree</field>
        <field name="model">bracelet.type</field>
        <field name="arch" type="xml">
            <tree string="Bracelet Types">
                <field name="name"/>
                <field name="bracelet_qty"/>
                <field name="event_ticket_id"/>
            </tree>
        </field>
    </record>

    <record id="bracelet_type_view_action" model="ir.actions.act_window">
        <field name="name">Bracelet Types</field>
        <field name="res_model">bracelet.type</field>
        <field name="view_type">form</field>
    </record>

    <menuitem id="est_menu" sequence="50" name="EST" parent="event.event_main_menu"/>
    <menuitem id="attendee_signature_request_menu" name="Signature Requests" parent="est_menu" action="website_sign.signature_request_action"/>
    <menuitem id="bracelet_type_menu" name="Bracelet Types" parent="event.menu_event_configuration" action="bracelet_type_view_action"/>

</odoo>
